<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.biocouture.dao.UserMapper">

    <resultMap type="com.biocouture.bo.User" id="User_ResultMap">
    	<id property="id" column="user_id"/>
    	<result property="name" column="user_name"/>
    	<result property="firstName" column="user_firstname"/>
    	<result property="mail" column="user_mail"/>
    	<result property="password" column="user_password"/>
    </resultMap>
    
    
	<select id="findAll" resultMap="User_ResultMap">
    	SELECT user_id, user_name, user_firstname, user_mail, user_password
  		FROM public."user"
    </select>
    
    <select id="find" resultMap="User_ResultMap">
    	SELECT user_id, user_name, user_firstname, user_mail, user_password
  		FROM public."user"
  		WHERE user_id = #{id}
    </select>
    
    <update id="update">
		  update public."user"
		    <set>
		      <if test="name != null">user_name=#{name},</if>
		      <if test="firstName != null">user_firstname=#{firstName},</if>
		      <if test="mail != null">user_mail=#{mail},</if>
		      <if test="password != null">user_password=#{password}</if>
		    </set>
		  where user_id=#{id}
	</update>

    <delete id="delete">
    	DELETE FROM public."user"
  		WHERE user_id = #{id}
    </delete>
    
</mapper>